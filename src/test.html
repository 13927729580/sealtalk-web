<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no"/>
    <meta name="format-detection" content="telephone=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <title>WEB IM</title>

</head>
<body>

<button type="button" onclick="putb64()">发送</button>
<img id="myImg" />
<div class="main" id="myDiv">
</div>
</div>
</body>
<script>
  document.getElementById("myImg").src = 'http://7xogjk.com1.z0.glb.clouddn.com/Fny3yQLGd3vzGzOYDQr7alqemzD9';
  //var test = '{"hash":"FpK-pdDLAWKcdCRocE9jTD3EaCQG","key":"FpK-pdDLAWKcdCRocE9jTD3EaCQG"}';
  //var testR = JSON.parse(test);
  //console.log(testR.key);
  function putb64(){
    var pic = "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";
    var url = "http://up.qiniu.com/putb64/-1";
    var xhr = new XMLHttpRequest();
    xhr.onreadystatechange=function(){
      if (xhr.readyState==4){
        var res = xhr.responseText;
        var jsonResult = JSON.parse(res);
        document.getElementById("myDiv").innerHTML = res;
        document.getElementById("myImg").src = 'http://7xogjk.com1.z0.glb.clouddn.com/' + jsonResult.key;
          }
      }
      xhr.open("POST", url, true);
      xhr.setRequestHeader("Content-Type", "application/octet-stream");
      xhr.setRequestHeader("Authorization", "UpToken " + "livk5rb3__JZjCtEiMxXpQ8QscLxbNLehwhHySnX:f16YGbpX4ktOfUH5mjGL9MtrXH0=:eyJzY29wZSI6InNlYWx0YWxrLWltYWdlIiwiZGVhZGxpbmUiOjE0NjA1MzExNDF9");
xhr.send("num1="+pic);
      <!-- xhr.send(pic); -->



      //   {"hash":"Fma5B3CNi3CFgoZELTRrOknQNtuY","key":"Fma5B3CNi3CFgoZELTRrOknQNtuY"}
  }
</script>
</html>
